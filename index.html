<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>DRINX</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        button, input { 
            width: 100%; 
            padding: 12px; 
            margin: 8px 0; 
            border-radius: 8px; 
        }
        button { background: #8b0000; color: white; border: none; }
    </style>
</head>
<body>
    <h2>DRINX</h2>
    <h3>Выберите услугу:</h3>
    
    <button onclick="selectService('free_hands')">СВОБОДНЫЕ РУКИ</button>
    <button onclick="selectService('manager')">МЕНЕДЖЕР</button>
    <button onclick="selectService('tasting')">ДЕГУСТАЦИЯ</button>

    <input type="text" id="name" placeholder="Ваше имя" required>
    <input type="tel" id="phone" placeholder="Телефон" required>
    <button onclick="submitForm()">ОТПРАВИТЬ</button>

    <script>
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        
        let selectedService = null;
        
        function selectService(service) {
            selectedService = service;
            console.log("Selected service:", service);
        }
        
        function submitForm() {
            const name = document.getElementById('name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            
            if (!name || !phone) {
                Telegram.WebApp.showAlert("Заполните все поля!");
                return;
            }
            
            if (!selectedService) {
                Telegram.WebApp.showAlert("Выберите услугу!");
                return;
            }
            
            const data = {
                name: name,
                phone: phone,
                service_type: selectedService
            };
            
            console.log("Sending data:", data);
            Telegram.WebApp.sendData(JSON.stringify(data));
            Telegram.WebApp.close();
        }
    </script>
</body>
</html>
